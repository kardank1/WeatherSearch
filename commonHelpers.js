var y=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var o=(t,e,r)=>(y(t,e,"read from private field"),r?r.call(t):e.get(t)),c=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},h=(t,e,r,a)=>(y(t,e,"write to private field"),a?a.call(t,r):e.set(t,r),r);import"./assets/styles-c4e25582.js";import{a as m,P as d,i as q}from"./assets/vendor-8722fc9f.js";var i,n,l;class L{constructor(){c(this,i,"https://api.unsplash.com/search/photos");c(this,n,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");c(this,l,"")}async getPopularPhotos(e){const r=`${o(this,i)}?query=popular&page=${e}&per_page=12&orientation=portrait&client_id=${o(this,n)}`;try{const{data:a}=await m.get(r);return a}catch(a){console.log(a)}}set query(e){h(this,l,e)}async getPhotoByQuery(e){const r=`${o(this,i)}?query=${o(this,l)}&page=${e}&per_page=12&orientation=portrait&client_id=${o(this,n)}`;try{const{data:a}=await m.get(r);return a}catch(a){console.log(a)}}}i=new WeakMap,n=new WeakMap,l=new WeakMap;function p(t){return t.map(({urls:e,alt_description:r})=>`<li class='gallery__item'><img src='${e.small}' alt='${r}'></li>`).join("")}const s={galleryList:document.querySelector(".js-gallery"),galleryTui:document.querySelector("#tui-pagination-container"),jsSearchForm:document.querySelector(".js-search-form")},g=new L,f={totalItems:0,itemsPerPage:12,visiblePages:5,page:1},u=new d(s.galleryTui,f),P=u.getCurrentPage();g.getPopularPhotos(P).then(({results:t,total:e})=>{s.galleryList.innerHTML=p(t),u.reset(e)});u.on("beforeMove",t=>{const{page:e}=t;g.getPopularPhotos(e).then(({results:r})=>{s.galleryList.innerHTML=p(r)})});s.jsSearchForm.addEventListener("submit",t=>{t.preventDefault();const e=t.target.elements.query.value.trim();if(e===""){q.info({message:"enter query for search",position:"topRight"});return}g.query=e,g.getPhotoByQuery(P).then(({results:r,total:a})=>{s.galleryList.innerHTML=p(r),u.reset(a)})});
//# sourceMappingURL=commonHelpers.js.map
