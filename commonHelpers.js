var h=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var n=(t,e,r)=>(h(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},m=(t,e,r,o)=>(h(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);import"./assets/styles-c4e25582.js";import{a as f,P as q,i as y}from"./assets/vendor-8722fc9f.js";var l,c,g;class ${constructor(){u(this,l,"https://api.unsplash.com/search/photos");u(this,c,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");u(this,g,"")}async getPopularPhotos(e){const r=`${n(this,l)}?query=popular&page=${e}&per_page=12&orientation=portrait&client_id=${n(this,c)}`;try{const{data:o}=await f.get(r);return o}catch(o){console.log(o)}}set query(e){m(this,g,e)}async getPhotoByQuery(e){const r=`${n(this,l)}?query=${n(this,g)}&page=${e}&per_page=12&orientation=portrait&client_id=${n(this,c)}`;try{const{data:o}=await f.get(r);return o}catch(o){console.log(o)}}}l=new WeakMap,c=new WeakMap,g=new WeakMap;function p(t){return t.map(({urls:e,alt_description:r})=>`<li class='gallery__item'><img src='${e.small}' alt='${r}'></li>`).join("")}const i={galleryList:document.querySelector(".js-gallery"),galleryTui:document.querySelector("#tui-pagination-container"),jsSearchForm:document.querySelector(".js-search-form")},s=new $,b={totalItems:0,itemsPerPage:12,visiblePages:5,page:1},a=new q(i.galleryTui,b),L=a.getCurrentPage();s.getPopularPhotos(L).then(({results:t,total:e})=>{i.galleryList.innerHTML=p(t),a.reset(e)});a.on("beforeMove",d);i.jsSearchForm.addEventListener("submit",t=>{t.preventDefault();const e=t.target.elements.query.value.trim();if(e===""){y.info({message:"enter query for search",position:"topRight"});return}i.jsSearchForm.reset(),a.off("beforeMove",P),a.off("beforeMove",d),s.query=e,s.getPhotoByQuery(L).then(({results:r,total:o})=>{if(!r.length){y.info({message:"try another query",position:"topRight"});return}i.galleryList.innerHTML=p(r),y.info({message:`We found ${o} images`,position:"topRight"}),a.reset(o)}),a.on("beforeMove",P)});function d(t){const{page:e}=t;s.getPopularPhotos(e).then(({results:r})=>{i.galleryList.innerHTML=p(r)})}function P({page:t}){s.getPhotoByQuery(t).then(({results:e})=>{i.galleryList.innerHTML=p(e)})}
//# sourceMappingURL=commonHelpers.js.map
