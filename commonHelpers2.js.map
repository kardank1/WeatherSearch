{"version":3,"file":"commonHelpers2.js","sources":["../src/js/marckup.js","../src/js/API.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export function createMarkup({\n  name,\n  sys: { country },\n  main: { feels_like, humidity, pressure, temp },\n  weather,\n}) {\n  return `<div class=\"weather-card\"><div><h2>${name}, ${country}</h2><img src=\"http://openweathermap.org/img/w/${weather[0].icon}.png\" width=\"80px\"><p>${weather[0].description}</p></div><div><p>Temperature: ${temp}&#8451;</p><p>Feels like: ${feels_like}&#8451;</p><p>Humidity: ${humidity}%</p><p>Pressure: ${pressure}</p></div>\n  <button type=\"button\" class=\"save-btn\">Save</button>\n  </div>\n  `;\n}\n","\n\nexport function getCity(city) {\n    const link = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=117bcd5592950f9f701a11f5ab982de0&units=metric`\n    return fetch(link).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status) \n        } return response.json(); \n        \n    }).catch(er => console.log(er))\n\n}\n","// 2. Додай перемикач теми і реалізуй логіку переключення світлої-темної теми\n// в окремому файлі theme-switcher.js\n// якщо обрана темна тема, при оновленні сторінки вона має залишатись\n/* theme-switcher */\n\nconst switcherToggle = document.querySelector('.switcher-toggle');\nconst body = document.querySelector('body');\n\nswitcherToggle.addEventListener('change', toggle);\nfunction toggle(event) {\n  if (event.target.checked) {\n    body.classList.replace('light', 'dark');\n\n    localStorage.setItem('theme', 'dark');\n  } else {\n    body.classList.replace('dark', 'light');\n    localStorage.setItem('theme', 'light');\n  }\n}\n\nconst savedTheme = localStorage.getItem('theme');\nif (savedTheme === 'dark') {\n  body.classList.replace('light', 'dark');\n  switcherToggle.checked = true;\n}\n","//import \"./js/promise.js\"\n// 1. Створи застосунок для пошуку погоди в своєму місті\n// Використовуй API https://openweathermap.org/api\n// (Current Weather Data -> Built-in API request by city name)\n// створи файл api.js що робитиме запит на бек\n// створи файл create-markup.js для створення розмітки (https://prnt.sc/LEataI862RLd)\n// додай пошук погоди в конкретному місті використовуючи форму\n\n// 4. Додай в картку з погодою кнопку Save для зберігання\n// інформації про погоду в місті в localStorage, щоб при оновленні сторінки\n// йшов запит за погодою в збереженому місті\n// коли місто збережено, кнопка стає Delete і можна видалити місто, тоді запит\n// не буде йти при оновленні сторінки\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { createMarkup } from './js/marckup';\nimport { getCity } from './js/API';\nimport './js/theme-switcher';\n\nconst inputForm = document.getElementById('searchForm');\nconst weatherDetails = document.querySelector('#weatherDetails');\nconst dateSpan = document.querySelector('.date span');\n\ninputForm.addEventListener('submit', formSearch);\n\nfunction formSearch(event) {\n  event.preventDefault();\n  const query = event.target.name.value.trim();\n  weatherDetails.innerHTML = '';\n\n  if (!query) {\n    return iziToast.warning({ message: 'Enter city name' });\n  }\n  getCity(query)\n    .then(data => {\n      if (!data) {\n        return iziToast.error({ message: 'Please write a real city name' });\n      }\n      weatherDetails.insertAdjacentHTML('beforeend', createMarkup(data));\n      const saveBtn = document.querySelector('.save-btn');\n      saveBtn.addEventListener('click', () => {\n        ////////////////////home work//////////////////////\n        if (saveBtn.textContent === 'delete') {\n          localStorage.removeItem('city');\n          weatherDetails.innerHTML = '';\n          return;\n        }\n        saveBtn.textContent = 'delete';\n        //////////////////////////////////////////////////\n        localStorage.setItem('city', query);\n      });\n    })\n    .catch(error => {\n      iziToast.error({ message: 'Something went wrong' });\n    })\n    .finally(() => inputForm.reset());\n}\n\nif (localStorage.getItem('city')) {\n}\n\ndateSpan.textContent = new Date().toLocaleString();\nsetInterval(() => {\n  dateSpan.textContent = new Date().toLocaleString();\n}, 1000);\n\nconst savedCity = localStorage.getItem('city');\nif (savedCity) {\n  getCity(savedCity).then(data => {\n    weatherDetails.insertAdjacentHTML('beforeend', createMarkup(data));\n    const saveBtn = document.querySelector('.save-btn');\n\n    ////////////////////////home work///////////////////////////\n    saveBtn.textContent = 'delete';\n\n    saveBtn.addEventListener('click', () => {\n      localStorage.removeItem('city');\n      weatherDetails.innerHTML = '';\n    });\n    ///////////////////////////////////////////////////////////\n  });\n}\n"],"names":["createMarkup","name","country","feels_like","humidity","pressure","temp","weather","getCity","city","link","response","er","switcherToggle","body","toggle","event","savedTheme","inputForm","weatherDetails","dateSpan","formSearch","query","iziToast","data","saveBtn","error","savedCity"],"mappings":"oFAAO,SAASA,EAAa,CAC3B,KAAAC,EACA,IAAK,CAAE,QAAAC,CAAS,EAChB,KAAM,CAAE,WAAAC,EAAY,SAAAC,EAAU,SAAAC,EAAU,KAAAC,CAAM,EAC9C,QAAAC,CACF,EAAG,CACD,MAAO,sCAAsCN,CAAI,KAAKC,CAAO,kDAAkDK,EAAQ,CAAC,EAAE,IAAI,yBAAyBA,EAAQ,CAAC,EAAE,WAAW,kCAAkCD,CAAI,6BAA6BH,CAAU,2BAA2BC,CAAQ,qBAAqBC,CAAQ;AAAA;AAAA;AAAA,GAI5T,CCRO,SAASG,EAAQC,EAAM,CAC1B,MAAMC,EAAO,qDAAqDD,CAAI,uDACtE,OAAO,MAAMC,CAAI,EAAE,KAAKC,GAAY,CAChC,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EACjC,OAAOA,EAAS,MAE1B,CAAK,EAAE,MAAMC,GAAM,QAAQ,IAAIA,CAAE,CAAC,CAElC,CCNA,MAAMC,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAO,SAAS,cAAc,MAAM,EAE1CD,EAAe,iBAAiB,SAAUE,CAAM,EAChD,SAASA,EAAOC,EAAO,CACjBA,EAAM,OAAO,SACfF,EAAK,UAAU,QAAQ,QAAS,MAAM,EAEtC,aAAa,QAAQ,QAAS,MAAM,IAEpCA,EAAK,UAAU,QAAQ,OAAQ,OAAO,EACtC,aAAa,QAAQ,QAAS,OAAO,EAEzC,CAEA,MAAMG,EAAa,aAAa,QAAQ,OAAO,EAC3CA,IAAe,SACjBH,EAAK,UAAU,QAAQ,QAAS,MAAM,EACtCD,EAAe,QAAU,ICH3B,MAAMK,EAAY,SAAS,eAAe,YAAY,EAChDC,EAAiB,SAAS,cAAc,iBAAiB,EACzDC,EAAW,SAAS,cAAc,YAAY,EAEpDF,EAAU,iBAAiB,SAAUG,CAAU,EAE/C,SAASA,EAAWL,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMM,EAAQN,EAAM,OAAO,KAAK,MAAM,OAGtC,GAFAG,EAAe,UAAY,GAEvB,CAACG,EACH,OAAOC,EAAS,QAAQ,CAAE,QAAS,iBAAmB,CAAA,EAExDf,EAAQc,CAAK,EACV,KAAKE,GAAQ,CACZ,GAAI,CAACA,EACH,OAAOD,EAAS,MAAM,CAAE,QAAS,+BAAiC,CAAA,EAEpEJ,EAAe,mBAAmB,YAAanB,EAAawB,CAAI,CAAC,EACjE,MAAMC,EAAU,SAAS,cAAc,WAAW,EAClDA,EAAQ,iBAAiB,QAAS,IAAM,CAEtC,GAAIA,EAAQ,cAAgB,SAAU,CACpC,aAAa,WAAW,MAAM,EAC9BN,EAAe,UAAY,GAC3B,MACD,CACDM,EAAQ,YAAc,SAEtB,aAAa,QAAQ,OAAQH,CAAK,CAC1C,CAAO,CACP,CAAK,EACA,MAAMI,GAAS,CACdH,EAAS,MAAM,CAAE,QAAS,sBAAwB,CAAA,CACxD,CAAK,EACA,QAAQ,IAAML,EAAU,MAAK,CAAE,CACpC,CAEI,aAAa,QAAQ,MAAM,EAG/BE,EAAS,YAAc,IAAI,KAAM,EAAC,eAAc,EAChD,YAAY,IAAM,CAChBA,EAAS,YAAc,IAAI,KAAM,EAAC,eAAc,CAClD,EAAG,GAAI,EAEP,MAAMO,EAAY,aAAa,QAAQ,MAAM,EACzCA,GACFnB,EAAQmB,CAAS,EAAE,KAAKH,GAAQ,CAC9BL,EAAe,mBAAmB,YAAanB,EAAawB,CAAI,CAAC,EACjE,MAAMC,EAAU,SAAS,cAAc,WAAW,EAGlDA,EAAQ,YAAc,SAEtBA,EAAQ,iBAAiB,QAAS,IAAM,CACtC,aAAa,WAAW,MAAM,EAC9BN,EAAe,UAAY,EACjC,CAAK,CAEL,CAAG"}